<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>IpsumDominum</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="../layouts/css/normalize.css">
  <link rel="stylesheet" href="../layouts/css/style.css">
  <link rel="stylesheet" href="../layouts/css/skeleton.css">
  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="brain.jpg">

  <style>
  canvas{
    width:400px;
    height:400px;
    border:black solid 1px;
}
.show{
  display:flex;
}
</style>
</head>
<body>

  <!-- Primary Page Layout
       –––––––––––––––––––––––––––––––––––––––––––––––––– -->

  <div class="container " style="padding:20px">
       
<button onclick="document.location='./../../index.html'"> Back to home</button>
<h1>Strange</h1>

The following is the result of a matrix multiplication
indexes of an image, via a normally 
<div class="show">
<canvas id="canvas">
</canvas>
<button>
  Zoomin
</button>
<button>
  ZoomOut
</button> 
<button onclick="reroll()"> 
  Re-roll
</button> 
</div>

</body>
</html>
<script>
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
SIZE = 128;
ctx.canvas.width = SIZE;
ctx.canvas.height = SIZE;

  function matmul(m1, m2) {
     var result = [];
    for (var i = 0; i < m1.length; i++) {
        result[i] = [];
        for (var j = 0; j < m2[0].length; j++) {
            var sum = 0;
            for (var k = 0; k < m1[0].length; k++) {
                sum += m1[i][k] * m2[k][j];
            }
            result[i][j] = sum;
        }
    }
    return result;
}
function forward(input,weights){
  result = normalize(matmul(input,weights));
  return result;
}
function normalize(x){
  let x_sum = 0.0;
  for(var i=0;i<x[0].length;i++){
    x_sum = x_sum +x[0][i];    
  }
  if(x_sum==0){
    x_sum =0.001;
  }
  for(var i=0;i<x[0].length;i++){
    x[0][i] = x[0][i]/x_sum*3;        
  }
  
  return x;
}
reroll();
function reroll(){
  weights = [];
  for(var ele_n=0;ele_n<2;ele_n++){
    weights.push([]);
  for(var ele_k=0;ele_k<3;ele_k++){
    weights[ele_n].push(-1 + Math.random()*2);
  }
  } 
  for(ele_x=0;ele_x<SIZE;ele_x++){
  for(ele_y=0;ele_y<SIZE;ele_y++){
    let result = forward([[ele_x,ele_y]],weights)[0];
    draw(ele_x,ele_y,"hsv("+result[0].toString()+","+result[1].toString()+","+result[2].toString()+")");
  }
}
}


function draw(x,y,color){
    ctx.fillStyle = color;
    ctx.fillRect(x,y,1,1); // fill in the pixel at (10,10)
}

</script>